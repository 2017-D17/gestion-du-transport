<div class="container">
  <!--Formulaire Recherche-->

  <h2 class="display-4">Réserver un véhicule</h2>
  <!--Champs Filtre-->
  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-addon">Adresse Départ</span>
    </div>
    <input type="text" class="form-control" [formControl]="filterField1">
  </div>
  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-addon">Adresse Arrivée</span>
    </div>
    <input type="text" class="form-control" [formControl]="filterField2">
  </div>
  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-addon">Date de départ </span>
    </div>
    <input type="date" class="form-control" [formControl]="filterField3">
  </div>
  <!--ListeRéservation Covoiturage-->
  <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
    <ngb-panel>
      <ng-template ngbPanelTitle>
        <div [ngSwitch]="(annonces|async) != null">
          <span *ngSwitchCase="true">Covoiturages ({{(annonces|async).length}} disponibles) </span>
          <span *ngSwitchCase="false">Covoiturages (0 disponibles) </span>
        </div>
      </ng-template>
      <ng-template ngbPanelContent>
        <app-liste-annonces [actionTemplate]="actionTemplate" [mode]="modes.COVOITURAGE" [annonces]="annonces | async | filterByAdresseDep:filtreAdrDep | filterByAdresseAr:filtreAdrAr | filterByDateDep:filtreDateAr"></app-liste-annonces>
      </ng-template>
    </ngb-panel>
    <ngb-panel>
      <ng-template ngbPanelTitle>
        <div [ngSwitch]="(reservations|async) != null">
          <span *ngSwitchCase="true">Véhicule de societe ({{(reservations|async).length}} disponibles) </span>
          <span *ngSwitchCase="false">Véhicule de societe (0 disponibles) </span>
        </div>
      </ng-template>
      <ng-template ngbPanelContent>

      </ng-template>
    </ngb-panel>
  </ngb-accordion>
</div>

<ng-template #actionTemplate let-annonce="annonce">
  <button class="btn btn-success" (click)="open(annonce)">Réserver</button>
</ng-template>


<ng-template #actionTemplateForModal let-annonce="annonce">
  <button class="btn btn-success" (click)="saveBooking(annonce)">Confirmer</button>
  <button class="btn btn-secondary" (click)="fermer()">Annuler</button>
</ng-template>