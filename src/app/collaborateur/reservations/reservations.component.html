<div class="container">
  <h1>Vos réservations</h1>
  <button class="btn m-3">Réserver un transport</button>

  <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
    <ngb-panel title="Covoiturage">
      <ng-template ngbPanelContent>

        <h4>Réservations en cours</h4>
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>Date/heure</th>
              <th>Départ</th>
              <th>Destination</th>
              <th></th>
            </tr>
          </thead>
          <tbody *ngFor="let reservationEnCours of reservations">
            <tr *ngIf="(reservationEnCours.dateDepart | date:'dd/MM/yyyy') >= (currentDate | date:'dd/MM/yyyy')">
              <td>{{ reservationEnCours.dateDepart | date:'dd/MM/yyyy'}} {{ reservationEnCours.dateDepart | date:'HH:ss'}}</td>
              <td>{{ reservationEnCours.adresseDepart.numero }} {{ reservationEnCours.adresseDepart.rue }} {{ reservationEnCours.adresseDepart.ville
                }} {{ reservationEnCours.adresseDepart.codePostal }}</td>
              <td>{{ reservationEnCours.adresseArrive.numero }} {{ reservationEnCours.adresseArrive.rue }} {{ reservationEnCours.adresseArrive.ville
                }} {{ reservationEnCours.adresseArrive.codePostal }}</td>
              <td>
                <button class="btn" (click)="detailAnnonce(reservationEnCours)">Détails</button>
              </td>
            </tr>
          </tbody>
        </table>

        <h4>Historique</h4>
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>Date/heure</th>
              <th>Départ</th>
              <th>Destination</th>
              <th></th>
            </tr>
          </thead>
          <tbody *ngFor="let reservationHisto of reservations | slice:startLimit:endLimit">
            <tr *ngIf="(reservationHisto.dateDepart | date:'dd/MM/yyyy') < (currentDate | date:'dd/MM/yyyy')">
              <td>{{ reservationHisto.dateDepart | date:'dd/MM/yyyy'}} {{ reservationHisto.dateDepart | date:'HH:ss'}}</td>
              <td>{{ reservationHisto.adresseDepart.numero }} {{ reservationHisto.adresseDepart.rue }} {{ reservationHisto.adresseDepart.ville
                }} {{ reservationHisto.adresseDepart.codePostal }}</td>
              <td>{{ reservationHisto.adresseArrive.numero }} {{ reservationHisto.adresseArrive.rue }} {{ reservationHisto.adresseArrive.ville
                }} {{ reservationHisto.adresseArrive.codePostal }}</td>
              <td>
                <button class="btn" (click)="detailAnnonce(reservationHisto)">Détails</button>
              </td>
            </tr>
          </tbody>
        </table>
        <!--<app-liste-annonces [libelleListe]="CovoitEnCours" [titre]="'Réservations en cours'" [reservations]="reservations"></app-liste-annonces>
        <app-liste-annonces [libelleListe]="CovoitHisto" [titre]="Historique" [reservations]="reservations"></app-liste-annonces>-->
        <ngb-pagination [collectionSize]="reservations.length" [(page)]="page" [pageSize]="5" [maxSize]="5" (pageChange)="onChange()"
          class="float-right m-3"></ngb-pagination>
      </ng-template>
    </ngb-panel>
    <ngb-panel title="Véhicule de société">
      <ng-template ngbPanelContent>

      </ng-template>
    </ngb-panel>
  </ngb-accordion>
</div>